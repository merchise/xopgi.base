<?xml version="1.0" encoding="UTF-8" ?>
<openerp>
  <data>


    <record model="ir.actions.act_window"
    id="act_open_documents_view">
      <field name="name">View All Documents</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">ir.attachment</field>
      <field name="view_type">form</field>
      <field name="view_mode">kanban,tree,form,graph</field>
    </record>

    <record id="view_attachment_form_inh" model="ir.ui.view">
      <field name="name">view.attachment.form.inh</field>
      <field name="model">ir.attachment</field>
      <field name="inherit_id"
      ref="base.view_attachment_form"/>
      <field name="arch" type="xml">
        <xpath expr="//sheet" position="before">
          <header>
             <button name="button_share"
                    type="object"
                    string="Share"
                    class="oe_highlight" />
          </header>
        </xpath>
      </field>
    </record>

    <record id="view_document_file_tree_inh" model="ir.ui.view">
      <field name="name">view.attachment.form.inh</field>
      <field name="model">ir.attachment</field>
      <field name="inherit_id"
       ref="document.view_document_file_tree"/>
      <field name="arch" type="xml">
        <xpath expr="//field[@name='type']" position="after">
          <button name="button_share"
                  type="object"
                  string="Share"
                  icon="gtk-network"  />
        </xpath>
      </field>

    </record>
     <record model='ir.actions.act_window'
      id='action_ir_attachment_share'>
            <field name='name'>Share</field>
            <field name='res_model'>ir.attachment.share</field>
            <field name='type'>ir.actions.act_window</field>
            <field name='target'>new</field>
            <field name='view_type'>form</field>
            <field name='view_mode'>form</field>
        </record>

        <record model="ir.ui.view"
        id="view_ir_attachment_share_form">
            <field name="name">ir.attachment.share.form</field>
            <field name="model">ir.attachment.share</field>
            <field name="arch" type="xml">
                <form string="Share">
                    <group>
                        <field name="reference" class="oe_inline" readonly="0"/>
                    </group>
                    <footer>
                        <button name="action_share" string="Save"
                        class="oe_highlight" type="object" />
                        or
                        <button special="cancel" string="Cancel"
                        class="oe_link" />
                    </footer>
                </form>
            </field>
        </record>
  </data>
</openerp>
