<?xml version="1.0" encoding="UTF-8"?>
<templates>
  <t t-name="sales_team.SalesDashboard">
    <div t-if="show_demo or values" class="o_sales_dashboard">
      <div t-attf-class="#{show_demo ? 'o_demo' : ''}"
           style="width: 50%;">
        <div class="o_highlight">To do</div>
        <table class="table table-condensed">
          <tr>
            <td/>
            <td class="o_text" title="To calendar">
              <a href="#" class="o_dashboard_action"
                 name="calendar.action_calendar_event"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_mymeetings\': 1'}
                  }">
                Meetings
              </a>
            </td>
            <td class="o_text" title="To your leads">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_sale_board.crm_leads_all"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my_leads\': 1'}
                  }">
                Leads
              </a>
            </td>
            <td class="o_text" title="To your pipeline">
              <a href="#" class="o_dashboard_action"
                 name="crm.crm_case_category_act_oppor11"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_assigned_to_me\': 1'}
                  }">
                Opportunities
              </a>
            </td>
            <td class="o_text" title="To quotations">
              <a href="#" class="o_dashboard_action"
                 name="action_quotations_inh">
                Quotations
              </a>
            </td>
            <td class="o_text" title="To Sale Orders">
              <a href="#" class="o_dashboard_action"
                 name="sale.action_orders">
                Sale Orders
              </a>
            </td>
          </tr>
          <tr>
            <td class="o_text">
              Today
            </td>
            <td class="o_main" title="To Calendar">
              <a href="#" class="o_dashboard_action"
                 name="calendar.action_calendar_event"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_mymeetings\': 1'}
                  }">
                <span class="o_highlight">
                  <t t-if="!show_demo">
                    <t t-esc="values['meeting']['today']"/>
                  </t>
                  <t t-if="show_demo">
                    0
                  </t>
                </span>
              </a>
            </td>
            <td class="o_main" title="To your leads" rowspan="2">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_sale_board.crm_leads_all"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my_leads\': 1,'}
                      'search_default_today': 1
                  }">
                <br/>
                <span class="o_highlight">
                  <t t-if="!show_demo">
                    <t t-esc="values['lead']['today']"/>
                  </t>
                  <t t-if="show_demo">
                    0
                  </t>
                </span>
                <br/>
              </a>
            </td>
            <td class="o_main" title="Opportunities">
              <a href="#" class="o_dashboard_action"
                 name="crm.crm_case_category_act_oppor11"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_assigned_to_me\': 1,'}
                      'search_default_today': 1
                  }">
                <span class="o_highlight">
                  <t t-if="!show_demo">
                    <t t-esc="values['opportunity']['today']"/>
                  </t>
                  <t t-if="show_demo">
                    7
                  </t>
                </span>
              </a>
            </td>
            <td class="o_main" title="Quotations" rowspan="2">
              <a href="#" class="o_dashboard_action"
                 name="action_quotations_inh"
                 data-context="{'search_default_create_this_week': 1}">
                <br/>
                <span class="o_highlight">
                  <t t-if="!show_demo">
                    <t t-esc="values['quotation']['today']"/>
                  </t>
                  <t t-if="show_demo">
                    7
                  </t>
                </span>
                <br/>
              </a>
            </td>
            <td class="o_main" title="Sale Orders">
              <a href="#" class="o_dashboard_action"
                 name="sale.action_orders"
                 data-context="{'search_default_today': 1}">
                <span class="o_highlight">
                  <t t-if="!show_demo">
                    <t t-esc="values['sale']['today']"/>
                  </t>
                  <t t-if="show_demo">
                    7
                  </t>
                </span>
              </a>
            </td>
          </tr>
          <tr>
            <td class="o_text">Next 7 days</td>
            <td class="o_main" title="To Calendar">
              <a href="#" class="o_dashboard_action"
                 name="calendar.action_calendar_event"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_mymeetings\': 1'}
                  }">
                <t t-if="!show_demo">
                  <t t-esc="values['meeting']['next_7_days']"/>
                </t>
                <t t-if="show_demo">
                  9
                </t>
              </a>
            </td>
            <td class="o_main" title="To Activities">
              <a href="#" class="o_dashboard_action"
                 name="crm.crm_case_category_act_oppor11"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_assigned_to_me\': 1,'}
                      'search_default_this_week': 1
                  }">
                <t t-if="!show_demo">
                  <t t-esc="values['opportunity']['next_7_days']"/>
                </t>
                <t t-if="show_demo">
                  28
                </t>
              </a>
            </td>
            <td class="o_main" title="Sale Orders">
              <a href="#" class="o_dashboard_action"
                 name="sale.action_orders"
                 data-context="{'search_default_this_week': 1}">
                <t t-if="!show_demo">
                  <t t-esc="values['sale']['next_7_days']"/>
                </t>
                <t t-if="show_demo">
                  7
                </t>
              </a>
            </td>
          </tr>
          <tr>
            <td class="o_text">Overdue</td>
            <!-- Hide overdue when there is none -->
            <td/>
            <td t-if="show_demo or (values and values['lead'] and
                                    values['lead']['overdue'] != 0)"
                class="o_warning">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_sale_board.crm_leads_all"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my_leads\': 1,'}
                      'search_default_overdue': 1
                  }">
                <t t-if="!show_demo">
                  <t t-esc="values['lead']['overdue']"/>
                </t>
                <t t-if="show_demo">
                  0
                </t>
                <br/>
              </a>
            </td>
            <td t-if="show_demo or (values and
                                    values['opportunity']['overdue'] != 0)"
                class="o_warning" title="To Activities">
              <a href="#" class="o_dashboard_action"
                 name="crm.crm_case_category_act_oppor11"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_assigned_to_me\': 1,'}
                      'search_default_overdue': 1
                  }">
                <t t-if="!show_demo">
                  <t t-esc="values['opportunity']['overdue']"/>
                </t>
                <t t-if="show_demo">
                  2
                </t>
              </a>
            </td>
            <td t-if="show_demo or (values and values['quotation'] and
                                    values['quotation']['overdue'] != 0)"
                class="o_warning">
              <a href="#" class="o_dashboard_action"
                 name="action_quotations_inh"
                 data-context="{'search_default_create_before_this_week': 1}">
                  <t t-if="!show_demo">
                    <t t-esc="values['quotation']['overdue']"/>
                  </t>
                  <t t-if="show_demo">
                    0
                  </t>
                <br/>
              </a>
            </td>
            <td t-if="show_demo or (values and values['sale'] and
                                    values['sale']['overdue'] != 0)"
                class="o_warning">
              <a href="#" class="o_dashboard_action"
                 name="sale.action_orders"
                 data-context="{'search_default_overdue': 1}">
                  <t t-if="!show_demo">
                    <t t-esc="values['sale']['overdue']"/>
                  </t>
                  <t t-if="show_demo">
                    0
                  </t>
                <br/>
              </a>
            </td>
          </tr>
        </table>
      </div><div t-attf-class="#{show_demo ? 'o_demo' : ''}"
                 style="width: 50%;">
        <div class="o_highlight">Performance</div>
        <table class="hidden-xs table table-condensed">
          <tr>
            <td/>
            <td class="o_text">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_operations_performance.operations_result_report_action"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my\': 1'}
                  }">
                Margin
              </a>
            </td>
            <td class="o_text">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_operations_performance.operations_result_report_action"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my\': 1'}
                  }">
                Margin by Pax
              </a>
            </td>
            <td class="o_text" >
              <a href="#" class="o_dashboard_action"
                 name="crm.action_report_crm_opportunity">Activities Done</a>
            </td>
            <td class="o_text">
              <a href="#" class="o_dashboard_action"
                 name="crm.action_report_crm_opportunity"
                 data-context="{'search_default_won': 1}">Won in
              Opportunities</a>
            </td>
            <td class="o_text">
              <a href="#" class="o_dashboard_action"
                 name="account.action_account_invoice_report_all">Invoiced
              </a>
            </td>
          </tr>
          <tr>
            <td class="o_text">
              This Month
            </td>
            <td title="To Operation Result" class="o_secondary"
                t-attf-style="background-color: #{values['sale_margin']['color']};">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_operations_performance.operations_result_report_action"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my\': 1,'}
                      'search_default_this_month': 1
                  }">
                <span class="o_monetary_highlight">
                  <t t-if="!show_demo"
                     t-esc="widget.render_monetary_field(
                    values['sale_margin']['this_month'], values['currency_id'])"/>
                  <t t-if="show_demo" t-esc="$10"/>
                </span>
              </a>
            </td>
            <td title="To Operation Result" class="o_secondary"
                t-attf-style="background-color: #{values['sale_pax_margin']['color']};">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_operations_performance.operations_result_report_action"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my\': 1,'}
                      'search_default_this_month': 1
                  }">
                <span class="o_monetary_highlight">
                  <t t-if="!show_demo"
                     t-esc="widget.render_monetary_field(
                    values['sale_pax_margin']['this_month'],
                    values['currency_id'])"/>
                  <t t-if="show_demo" t-esc="$10"/>
                </span>
              </a>
            </td>
            <td title="To Activity Report" class="o_secondary"
                t-attf-style="background-color: #{values['sale_done']['color']};">
              <a href="#" class="o_dashboard_action"
                 name="crm.action_report_crm_opportunity"
                 data-context="{'search_default_done_this_month': 1}">
                <span class="o_highlight">
                  <t t-if="!show_demo">
                    <t t-esc="values['sale_done']['this_month']"/>
                  </t>
                  <t t-if="show_demo">
                    94
                  </t>
                </span>
              </a>
            </td>
            <td title="To Opportunity Report" class="o_secondary"
                t-attf-style="background-color: #{values['sale_won']['color']};">
              <a href="#" class="o_dashboard_action"
                 name="crm.action_report_crm_opportunity"
                 data-context="{'search_default_won': 1,
                                'search_default_won_this_month': 1}">
                <span class="o_monetary_highlight">
                  <t t-if="!show_demo">
                    <t t-esc="widget.render_monetary_field(
                        values['sale_won']['this_month'], values['currency_id'])"/>
                  </t>
                  <t t-if="show_demo">
                    78,140.03€
                  </t>
                </span>
              </a>
            </td>
            <td title="To Invoice Report" class="o_secondary"
                t-attf-style="background-color: #{values['sale_invoiced']['color']};">
              <a href="#" class="o_dashboard_action"
                 name="account.action_account_invoice_report_all"
                 data-context="{'search_default_this_month': 1}">
                <span class="o_monetary_highlight">
                  <t t-if="!show_demo">
                    <t t-esc="widget.render_monetary_field(
                        values['sale_invoiced']['this_month'],
                        values['currency_id'])"/>
                  </t>
                  <t t-if="show_demo">
                    35,029.39€
                  </t>
                </span>
              </a>
            </td>
          </tr>
          <tr>
            <td class="o_text">Target</td>
            <td class="o_secondary">
              <span t-if="!show_demo" class="o_target_to_set" name='sale_margin'
                    t-att-data-mode="mode"
                    t-att-value="values['sale_margin']['target'] ?
                                 values['sale_margin']['target'] : undefined"
                    title="Click to set">
                <t t-if="values['sale_margin']['target']">
                  <t t-esc="values['sale_margin']['target']"/>
                </t>
                <t t-if="!values['sale_margin']['target']">
                  Click to set
                </t>
              </span>
              <span t-if="show_demo">
                100
              </span>
            </td>
            <td class="o_secondary">
              <span t-if="!show_demo" class="o_target_to_set"
                    name='sale_pax_margin'
                    t-att-data-mode="mode"
                    t-att-value="values['sale_pax_margin']['target'] ?
                                 values['sale_pax_margin']['target'] : undefined"
                    title="Click to set">
                <t t-if="values['sale_pax_margin']['target']">
                  <t t-esc="values['sale_pax_margin']['target']"/>
                </t>
                <t t-if="!values['sale_pax_margin']['target']">
                  Click to set
                </t>
              </span>
              <span t-if="show_demo">
                100
              </span>
            </td>
            <td class="o_secondary">
              <span t-if="!show_demo" class="o_target_to_set" name='sale_done'
                    t-att-data-mode="mode"
                    t-att-value="values['sale_done']['target'] ?
                                 values['sale_done']['target'] : undefined"
                    title="Click to set">
                <t t-if="values['sale_done']['target']">
                  <t t-esc="values['sale_done']['target']"/>
                </t>
                <t t-if="!values['sale_done']['target']">
                  Click to set
                </t>
              </span>
              <span t-if="show_demo">
                100
              </span>
            </td>
            <td class="o_secondary">
              <span t-if="!show_demo" class="o_target_to_set" name='sale_won'
                    t-att-data-mode="mode"
                    t-att-value="values['sale_won']['target'] ?
                                 values['sale_won']['target'] : undefined"
                    title="Click to set">
                <t t-if="values['sale_won']['target']">
                  <t t-esc="values['sale_won']['target']"/>
                </t>
                <t t-if="!values['sale_won']['target']">
                  Click to set
                </t>
              </span>
              <span t-if="show_demo">
                80.000€
              </span>
            </td>
            <td class="o_secondary">
              <span t-if="!show_demo" class="o_target_to_set" name='sale_invoiced'
                    t-att-data-mode="mode"
                    t-att-value="values['sale_invoiced']['target'] ?
                                 values['sale_invoiced']['target'] : undefined"
                    title="Click to set">
                <t t-if="values['sale_invoiced']['target']">
                  <t t-esc="values['sale_invoiced']['target']"/>
                </t>
                <t t-if="!values['sale_invoiced']['target']">
                  Click to set
                </t>
              </span>
              <span t-if="show_demo">
                10
              </span>
            </td>
          </tr>
          <tr>
            <td class="o_text">Last Month</td>
            <td class="o_secondary" title="To Operation Result">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_operations_performance.operations_result_report_action"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my\': 1,'}
                      'search_default_last_month': 1
                  }">
                <t t-if="!show_demo"
                   t-esc="widget.render_monetary_field(
                      values['sale_margin']['last_month'], values['currency_id'])"/>
                <t t-if="show_demo" t-esc="$10"/>
              </a>
            </td>
            <td class="o_secondary" title="To Operation Result">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_operations_performance.operations_result_report_action"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my\': 1,'}
                      'search_default_last_month': 1
                  }">
                <t t-if="!show_demo"
                   t-esc="widget.render_monetary_field(
                      values['sale_pax_margin']['last_month'],
                      values['currency_id'])"/>
                <t t-if="show_demo" t-esc="$10"/>
              </a>
            </td>
            <td class="o_secondary" title="To Activity Report">
              <a href="#" class="o_dashboard_action"
                 name="crm.action_report_crm_opportunity"
                 data-context="{'search_default_done_last_month': 1}">
                <t t-if="!show_demo" t-esc="values['sale_done']['last_month']"/>
                <t t-if="show_demo" t-esc="10"/>
              </a>
            </td>
            <td class="o_secondary" title="To Opportunity Report">
              <a href="#" class="o_dashboard_action"
                 name="crm.action_report_crm_opportunity"
                 data-context="{'search_default_won': 1,
                                'search_default_won_last_month': 1}">
                <t t-if="!show_demo"
                   t-esc="widget.render_monetary_field(
                      values['sale_won']['last_month'], values['currency_id'])"/>
                <t t-if="show_demo" t-esc="$10"/>
              </a>
            </td>
            <td class="o_secondary" title="To Invoice Report">
              <a href="#" class="o_dashboard_action"
                 name="account.action_account_invoice_report_all"
                 data-context="{'search_default_last_month': 1}">
                <t t-if="!show_demo"
                    t-esc="widget.render_monetary_field(
                        values['sale_invoiced']['last_month'],
                        values['currency_id'])"/>
                <t t-if="show_demo" t-esc="$10"/>
              </a>
            </td>
          </tr>
        </table>
      </div>
      <div t-if="show_demo" class="o_welcome_message">
        <div class="o_welcome_image">
          <i class="fa fa-smile-o fa-5x"></i>
        </div>
        <div class="o_welcome_content">
          <h2>Hi there!</h2>
          <h4>Great sales journeys start with a clean pipeline.</h4>
          <h4>Create a few opportunities to activate your dashboard.</h4>
          <a class="btn btn-primary o_dashboard_action"
             name="xopgi_sale_board.crm_lead_action_activities">Your Pipeline
          </a>
        </div>
      </div>
    </div>
  </t>
</templates>
