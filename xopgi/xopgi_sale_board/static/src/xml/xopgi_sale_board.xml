<?xml version="1.0" encoding="UTF-8"?>
<templates>
  <t t-name="sales_team.SalesDashboard">
    <div t-if="show_demo or values" class="o_sales_dashboard">
      <div t-attf-class="#{show_demo ? 'o_demo' : ''}"
           style="width: 50%;">
        <div class="o_highlight">To do</div>
        <table class="table table-condensed">
          <tr>
            <td/>
            <td class="o_text" title="To calendar">
              <a href="#" class="o_dashboard_action"
                 name="calendar.action_calendar_event"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_mymeetings\': 1'}
                  }">
                Meetings
              </a>
            </td>
            <td class="o_text" title="To leads">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_sale_board.crm_leads_all"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my_leads\': 1'}
                  }">
                Leads
              </a>
            </td>
            <td class="o_text" title="To opportunities">
              <a href="#" class="o_dashboard_action"
                 name="crm.crm_case_category_act_oppor11"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_assigned_to_me\': 1'}
                  }">
                Activities
              </a>
            </td>
            <td class="o_text" title="To quotations">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_sale_board.action_quotations_inh">
                Quotations
              </a>
            </td>
            <td class="o_text" title="To Sale Orders">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_sale_board.action_orders"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my_sale_orders_filter\': 1'}
                  }">
                Sale Orders
              </a>
            </td>
          </tr>
          <tr>
            <td class="o_text">
              Today
            </td>
            <td class="o_main" t-attf-title="#{widget.getTooltipText(
                    values['meeting']['today'],
                    'Today\'s Meetings')}">
              <a href="#" class="o_dashboard_action"
                 name="calendar.action_calendar_event"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_mymeetings\': 1'}
                  }">
                <span class="o_highlight">
                  <t t-if="!show_demo">
                    <t t-esc="widget.humanFriendlyNumber(
                        values['meeting']['today'])"/>
                  </t>
                  <t t-if="show_demo">
                    0
                  </t>
                </span>
              </a>
            </td>
            <td class="o_main" t-attf-title="#{widget.getTooltipText(
                    values['lead']['today'],
                    'Leads from last 7 days')}" rowspan="2">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_sale_board.crm_leads_all"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my_leads\': 1,'}
                      'search_default_today': 1
                  }">
                <br/>
                <span class="o_highlight">
                  <t t-if="!show_demo">
                    <t t-esc="widget.humanFriendlyNumber(
                        values['lead']['today'])"/>
                  </t>
                  <t t-if="show_demo">
                    0
                  </t>
                </span>
                <br/>
              </a>
            </td>
            <td class="o_main" t-attf-title="#{widget.getTooltipText(
                    values['opportunity']['today'],
                    'Opportunities with next action today')}">
              <a href="#" class="o_dashboard_action"
                 name="crm.crm_case_category_act_oppor11"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_assigned_to_me\': 1,'}
                      'search_default_today': 1
                  }">
                <span class="o_highlight">
                  <t t-if="!show_demo">
                    <t t-esc="widget.humanFriendlyNumber(
                        values['opportunity']['today'])"/>
                  </t>
                  <t t-if="show_demo">
                    7
                  </t>
                </span>
              </a>
            </td>
            <td class="o_main" t-attf-title="#{widget.getTooltipText(
                    values['quotation']['today'],
                    'Quotations from last 7 days')}"
                rowspan="2">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_sale_board.action_quotations_inh"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my_sale_orders_filter\': 1,'}
                        'search_default_create_this_week': 1}">
                <br/>
                <span class="o_highlight">
                  <t t-if="!show_demo">
                    <t t-esc="widget.humanFriendlyNumber(
                        values['quotation']['today'])"/>
                  </t>
                  <t t-if="show_demo">
                    7
                  </t>
                </span>
                <br/>
              </a>
            </td>
            <td class="o_main" t-attf-title="#{widget.getTooltipText(
                    values['sale']['today'],
                    'Today\'s Sale Orders')}">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_sale_board.action_orders"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my_sale_orders_filter\': 1,'}
                        'search_default_today': 1}">
                <span class="o_highlight">
                  <t t-if="!show_demo">
                    <t t-esc="widget.humanFriendlyNumber(
                        values['sale']['today'])"/>
                  </t>
                  <t t-if="show_demo">
                    7
                  </t>
                </span>
              </a>
            </td>
          </tr>
          <tr>
            <td class="o_text">Next 7 days</td>
            <td class="o_main" t-attf-title="#{widget.getTooltipText(
                    values['meeting']['next_7_days'],
                    'Next 7 days Meetings')}">
              <a href="#" class="o_dashboard_action"
                 name="calendar.action_calendar_event"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_mymeetings\': 1'}
                  }">
                <t t-if="!show_demo">
                  <t t-esc="widget.humanFriendlyNumber(
                        values['meeting']['next_7_days'])"/>
                </t>
                <t t-if="show_demo">
                  9
                </t>
              </a>
            </td>
            <td class="o_main"
                t-attf-title="#{widget.getTooltipText(
                    values['opportunity']['next_7_days'],
                    'Opportunities with next action in next 7 days')}">
              <a href="#" class="o_dashboard_action"
                 name="crm.crm_case_category_act_oppor11"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_assigned_to_me\': 1,'}
                      'search_default_this_week': 1
                  }">
                <t t-if="!show_demo">
                  <t t-esc="widget.humanFriendlyNumber(
                        values['opportunity']['next_7_days'])"/>
                </t>
                <t t-if="show_demo">
                  28
                </t>
              </a>
            </td>
            <td class="o_main" t-attf-title="#{widget.getTooltipText(
                    values['sale']['next_7_days'],
                    'Next 7 days Sale Orders')}">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_sale_board.action_orders"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my_sale_orders_filter\': 1,'}
                        'search_default_this_week': 1}">
                <t t-if="!show_demo">
                  <t t-esc="widget.humanFriendlyNumber(
                        values['sale']['next_7_days'])"/>
                </t>
                <t t-if="show_demo">
                  7
                </t>
              </a>
            </td>
          </tr>
          <tr>
            <td class="o_text">Overdue</td>
            <!-- Hide overdue when there is none -->
            <td/>
            <td t-if="values and values['lead']['overdue'] != 0"
                class="o_warning" t-attf-title="#{widget.getTooltipText(
                    values['lead']['overdue'],
                    'Leads created before last 7 days')}">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_sale_board.crm_leads_all"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my_leads\': 1,'}
                      'search_default_overdue': 1
                  }">
                <t t-if="!show_demo">
                  <t t-esc="widget.humanFriendlyNumber(
                        values['lead']['overdue'])"/>
                </t>
                <t t-if="show_demo">
                  0
                </t>
                <br/>
              </a>
            </td>
            <td t-if="!(values and values['lead']['overdue'] != 0)"/>
            <td t-if="values and values['opportunity']['overdue'] != 0"
                class="o_warning"
                t-attf-title="#{widget.getTooltipText(
                    values['opportunity']['overdue'],
                    'Opportunities with next action before today')}">
              <a href="#" class="o_dashboard_action"
                 name="crm.crm_case_category_act_oppor11"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_assigned_to_me\': 1,'}
                      'search_default_overdue': 1
                  }">
                <t t-if="!show_demo">
                  <t t-esc="widget.humanFriendlyNumber(
                        values['opportunity']['overdue'])"/>
                </t>
                <t t-if="show_demo">
                  2
                </t>
              </a>
            </td>
            <td t-if="!(values and values['opportunity']['overdue'] != 0)"/>
            <td t-if="values and values['quotation']['overdue'] != 0"
                class="o_warning"
                t-attf-title="#{widget.getTooltipText(
                    values and values['quotation']['overdue'],
                    'Quotations created before last 7 days')}">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_sale_board.action_quotations_inh"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my_sale_orders_filter\': 1,'}
                        'search_default_create_before_this_week': 1}">
                  <t t-if="!show_demo">
                    <t t-esc="widget.humanFriendlyNumber(
                        values['quotation']['overdue'])"/>
                  </t>
                  <t t-if="show_demo">
                    0
                  </t>
                <br/>
              </a>
            </td>
            <td t-if="!(values and values['quotation']['overdue'] != 0)"/>
            <td t-if="show_demo or (values and values['sale'] and
                                    values['sale']['overdue'] != 0)"
                class="o_warning" t-attf-title="#{widget.getTooltipText(
                    values['sale']['overdue'],
                    'Overdue Sale Orders')}">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_sale_board.action_orders"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my_sale_orders_filter\': 1,'}
                        'search_default_overdue': 1}">
                  <t t-if="!show_demo">
                    <t t-esc="widget.humanFriendlyNumber(
                        values['sale']['overdue'])"/>
                  </t>
                  <t t-if="show_demo">
                    0
                  </t>
                <br/>
              </a>
            </td>
          </tr>
        </table>
      </div><div t-attf-class="#{show_demo ? 'o_demo' : ''}"
                 style="width: 50%;">
        <div class="o_highlight">Performance</div>
        <table class="hidden-xs table table-condensed">
          <tr>
            <td/>
            <td class="o_text" title="To Operations Results Report">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_operations_performance.operations_result_report_action"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my\': 1'}
                  }">
                Margin
              </a>
            </td>
            <td class="o_text" title="To Operations Results Report">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_operations_performance.operations_result_report_action"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my\': 1'}
                  }">
                Margin by Pax
              </a>
            </td>
            <td class="o_text" title="To Opportunities Analysis Report">
              <a href="#" class="o_dashboard_action"
                 name="crm.action_report_crm_opportunity">Opportunities</a>
            </td>
            <td class="o_text" title="To Opportunities Analysis Report">
              <a href="#" class="o_dashboard_action"
                 name="crm.action_report_crm_opportunity"
                 data-context="{'search_default_won': 1}">Won in
              Opportunities</a>
            </td>
            <td class="o_text" title="To Invoices Analysis Report">
              <a href="#" class="o_dashboard_action"
                 name="account.action_account_invoice_report_all"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my\': 1'}
                  }">Invoiced
              </a>
            </td>
          </tr>
          <tr>
            <td class="o_text">
              This Month
            </td>
            <td t-attf-title="#{widget.getTooltipText(
                values['sale_margin']['this_month'],
                'Margin on this month operations', values['currency_id'])}"
                class="o_secondary"
                t-attf-style="background-color: #{values['sale_margin']['color']};">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_operations_performance.operations_result_report_action"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my\': 1,'}
                      'search_default_this_month': 1
                  }">
                <span class="o_highlight">
                  <t t-if="!show_demo"
                     t-esc="widget.humanFriendlyNumber(
                    values['sale_margin']['this_month'])"/>
                  <t t-if="show_demo" t-esc="$10"/>
                </span>
              </a>
            </td>
            <td t-attf-title="#{widget.getTooltipText(
                    values['sale_pax_margin']['this_month'],
                    'Margin by Pax on this month operations',
                    values['currency_id'])}"
                class="o_secondary"
                t-attf-style="background-color: #{values['sale_pax_margin']['color']};">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_operations_performance.operations_result_report_action"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my\': 1,'}
                      'search_default_this_month': 1
                  }">
                <span class="o_highlight">
                  <t t-if="!show_demo"
                     t-esc="widget.humanFriendlyNumber(
                    values['sale_pax_margin']['this_month'])"/>
                  <t t-if="show_demo" t-esc="$10"/>
                </span>
              </a>
            </td>
            <td t-attf-title="#{widget.getTooltipText(
                    values['sale_done']['this_month'],
                    'Opportunities started on this month')}"
                class="o_secondary"
                t-attf-style="background-color: #{values['sale_done']['color']};">
              <a href="#" class="o_dashboard_action"
                 name="crm.action_report_crm_opportunity"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my\': 1,'}
                        'search_default_done_this_month': 1}">
                <span class="o_highlight">
                  <t t-if="!show_demo">
                    <t t-esc="widget.humanFriendlyNumber(
                      values['sale_done']['this_month'])"/>
                  </t>
                  <t t-if="show_demo">
                    94
                  </t>
                </span>
              </a>
            </td>
            <td t-attf-title="#{widget.getTooltipText(
                    values['sale_won']['this_month'],
                    'Won in opportunities on this month',
                    values['currency_id'])}"
                class="o_secondary"
                t-attf-style="background-color: #{values['sale_won']['color']};">
              <a href="#" class="o_dashboard_action"
                 name="crm.action_report_crm_opportunity"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my\': 1,'}
                        'search_default_won': 1,
                        'search_default_won_this_month': 1}">
                <span class="o_highlight">
                  <t t-if="!show_demo">
                    <t t-esc="widget.humanFriendlyNumber(
                        values['sale_won']['this_month'])"/>
                  </t>
                  <t t-if="show_demo">
                    78,140.03€
                  </t>
                </span>
              </a>
            </td>
            <td t-attf-title="#{widget.getTooltipText(
                    values['sale_invoiced']['this_month'],
                    'Amount invoiced on this month',
                    values['currency_id'])}" class="o_secondary"
                t-attf-style="background-color: #{values['sale_invoiced']['color']};">
              <a href="#" class="o_dashboard_action"
                 name="account.action_account_invoice_report_all"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my\': 1,'}
                        'search_default_this_month': 1
                  }">
                <span class="o_highlight">
                  <t t-if="!show_demo">
                    <t t-esc="widget.humanFriendlyNumber(
                        values['sale_invoiced']['this_month'])"/>
                  </t>
                  <t t-if="show_demo">
                    35,029.39€
                  </t>
                </span>
              </a>
            </td>
          </tr>
          <tr>
            <td class="o_text">Target</td>
            <td class="o_secondary">
              <span t-if="!show_demo" class="o_target_to_set" name='sale_margin'
                    t-att-data-mode="values['mode']"
                    t-att-value="values['sale_margin']['target'] ?
                                 values['sale_margin']['target'] : undefined"
                    title="Click to set">
                <t t-if="values['sale_margin']['target']">
                  <t t-esc="widget.humanFriendlyNumber(
                        values['sale_margin']['target'])"/>
                </t>
                <t t-if="!values['sale_margin']['target']">
                  Click to set
                </t>
              </span>
              <span t-if="show_demo">
                100
              </span>
            </td>
            <td class="o_secondary">
              <span t-if="!show_demo" class="o_target_to_set"
                    name='sale_pax_margin'
                    t-att-data-mode="values['mode']"
                    t-att-value="values['sale_pax_margin']['target'] ?
                                 values['sale_pax_margin']['target'] : undefined"
                    title="Click to set">
                <t t-if="values['sale_pax_margin']['target']">
                  <t t-esc="widget.humanFriendlyNumber(
                        values['sale_pax_margin']['target'])"/>
                </t>
                <t t-if="!values['sale_pax_margin']['target']">
                  Click to set
                </t>
              </span>
              <span t-if="show_demo">
                100
              </span>
            </td>
            <td class="o_secondary">
              <span t-if="!show_demo" class="o_target_to_set" name='sale_done'
                    t-att-data-mode="values['mode']"
                    t-att-value="values['sale_done']['target'] ?
                                 values['sale_done']['target'] : undefined"
                    title="Click to set">
                <t t-if="values['sale_done']['target']">
                  <t t-esc="widget.humanFriendlyNumber(
                        values['sale_done']['target'])"/>
                </t>
                <t t-if="!values['sale_done']['target']">
                  Click to set
                </t>
              </span>
              <span t-if="show_demo">
                100
              </span>
            </td>
            <td class="o_secondary">
              <span t-if="!show_demo" class="o_target_to_set" name='sale_won'
                    t-att-data-mode="values['mode']"
                    t-att-value="values['sale_won']['target'] ?
                                 values['sale_won']['target'] : undefined"
                    title="Click to set">
                <t t-if="values['sale_won']['target']">
                  <t t-esc="widget.humanFriendlyNumber(
                        values['sale_won']['target'])"/>
                </t>
                <t t-if="!values['sale_won']['target']">
                  Click to set
                </t>
              </span>
              <span t-if="show_demo">
                80.000€
              </span>
            </td>
            <td class="o_secondary">
              <span t-if="!show_demo" class="o_target_to_set" name='sale_invoiced'
                    t-att-data-mode="values['mode']"
                    t-att-value="values['sale_invoiced']['target'] ?
                                 values['sale_invoiced']['target'] : undefined"
                    title="Click to set">
                <t t-if="values['sale_invoiced']['target']">
                  <t t-esc="widget.humanFriendlyNumber(
                        values['sale_invoiced']['target'])"/>
                </t>
                <t t-if="!values['sale_invoiced']['target']">
                  Click to set
                </t>
              </span>
              <span t-if="show_demo">
                10
              </span>
            </td>
          </tr>
          <tr>
            <td class="o_text">Last Month</td>
            <td class="o_secondary"
                t-attf-title="#{widget.getTooltipText(
                    values['sale_margin']['last_month'],
                    'Margin on last month operations', values['currency_id'])}">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_operations_performance.operations_result_report_action"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my\': 1,'}
                      'search_default_last_month': 1
                  }">
                <t t-if="!show_demo"
                   t-esc="widget.humanFriendlyNumber(
                      values['sale_margin']['last_month'])"/>
                <t t-if="show_demo" t-esc="$10"/>
              </a>
            </td>
            <td class="o_secondary"
                t-attf-title="#{widget.getTooltipText(
                    values['sale_pax_margin']['last_month'],
                    'Margin by Pax on last month operations',
                    values['currency_id'])}">
              <a href="#" class="o_dashboard_action"
                 name="xopgi_operations_performance.operations_result_report_action"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my\': 1,'}
                      'search_default_last_month': 1
                  }">
                <t t-if="!show_demo"
                   t-esc="widget.humanFriendlyNumber(
                      values['sale_pax_margin']['last_month'])"/>
                <t t-if="show_demo" t-esc="$10"/>
              </a>
            </td>
            <td class="o_secondary"
                t-attf-title="#{
                    widget.getTooltipText(
                    values['sale_done']['last_month'],
                    'Opportunities started on last month')}">
              <a href="#" class="o_dashboard_action"
                 name="crm.action_report_crm_opportunity"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my\': 1,'}
                        'search_default_done_last_month': 1}">
                <t t-if="!show_demo" t-esc="widget.humanFriendlyNumber(
                values['sale_done']['last_month'])"/>
                <t t-if="show_demo" t-esc="10"/>
              </a>
            </td>
            <td class="o_secondary" t-attf-title="#{
                    widget.getTooltipText(
                    values['sale_won']['last_month'], values['currency_id'],
                    'Won in opportunities on last month')}">
              <a href="#" class="o_dashboard_action"
                 name="crm.action_report_crm_opportunity"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my\': 1,'}
                        'search_default_won': 1,
                        'search_default_won_last_month': 1}">
                <t t-if="!show_demo"
                   t-esc="widget.humanFriendlyNumber(
                      values['sale_won']['last_month'])"/>
                <t t-if="show_demo" t-esc="$10"/>
              </a>
            </td>
            <td class="o_secondary" t-attf-title="#{
                    widget.getTooltipText(
                    values['sale_invoiced']['last_month'],
                        values['currency_id'],
                    'Amount invoiced on last month')}">
              <a href="#" class="o_dashboard_action"
                 name="account.action_account_invoice_report_all"
                 t-attf-data-context="{
                      #{values['mode'] and values['mode'] == 'company' ?
                        '' : '\'search_default_my\': 1,'}
                        'search_default_last_month': 1
                  }">
                <t t-if="!show_demo"
                    t-esc="widget.humanFriendlyNumber(
                        values['sale_invoiced']['last_month'])"/>
                <t t-if="show_demo" t-esc="$10"/>
              </a>
            </td>
          </tr>
        </table>
      </div>
    </div>
  </t>
</templates>
