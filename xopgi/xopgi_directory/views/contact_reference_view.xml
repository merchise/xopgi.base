<?xml version="1.0" encoding="UTF-8" ?>
<openerp>
  <data>
    <record id="view_contact_reference_model_tree" model="ir.ui.view">
      <field name="name">contact.reference.model.tree</field>
      <field name="model">contact.reference.model</field>
      <field name="arch" type="xml">
        <tree string="Contact Reference Models">
          <field name="model"/>
        </tree>
      </field>
    </record>

    <record id="view_contact_reference_model_form" model="ir.ui.view">
      <field name="name">contact.reference.model.form</field>
      <field name="model">contact.reference.model</field>
      <field name="arch" type="xml">
        <form string="Contact Reference Model">
          <group>
            <field name="model"/>
            <newline/>
            <field name="fields_map">
              <tree string="Contact Reference Field" editable="top">
                <field name="reference_field"
                       domain="[('model_id','=', model),
                                ('ttype', 'in', ['char', 'text'])]"/>
                <field name="contact_field"/>
                <field name="model" invisible="1"/>
                <field name="ref_model" invisible="1"/>
              </tree>
            </field>
          </group>
          </form>
        </field>
    </record>
  </data>
</openerp>