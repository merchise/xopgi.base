<?xml version="1.0" encoding="UTF-8" ?>
<openerp>
  <data>
    <record id="view_res_partner_inherit_form" model="ir.ui.view">
      <field name="name">res.partner.inherit.form</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_form"/>
      <field name="arch" type="xml">
        <xpath expr="//notebook" position="inside">
          <page string="Contact Information"
                attrs="{'invisible': [('contact_information','=', False)]}">
            <field name="contact_information" nolabel="1" mode="kanban">
              <kanban>
                <field name="owner"/>
                <field name="email"/>
                <field name="phone"/>
                <field name="street"/>
                <field name="street2"/>
                <field name="zip"/>
                <field name="city"/>
                <field name="country_id"/>
                <field name="mobile"/>
                <field name="fax"/>
                <field name="state_id"/>
                <templates>
                <t t-name="kanban-box">
                  <div style="position: relative">
                    <a t-if="! read_only_mode" type="delete"
                       style="position: absolute; right: 0; padding: 4px; diplay: inline-block">
                      X
                    </a>
                    <div class="oe_module_vignette">
                      <div class="oe_module_desc">
                        <div
                            class="oe_kanban_box_content oe_kanban_color_bglight oe_kanban_color_border">
                          <table class="oe_kanban_table">
                            <tr>
                              <td class="oe_kanban_title1" align="left"
                                  valign="middle">
                                <h4>
                                  <a type="open">
                                    <field name="name"/>
                                  </a>
                                </h4>
                                <div>
                                  <a t-if="record.email.raw_value"
                                     title="Mail"
                                     t-att-href="'mailto:'+record.email.value">
                                    <field name="email"/>
                                  </a>
                                </div>
                                <div t-if="record.phone.raw_value">Phone:
                                  <field name="phone"/>
                                </div>
                                <div t-if="record.mobile.raw_value">Mobile:
                                  <field name="mobile"/>
                                </div>
                                <div t-if="record.fax.raw_value">Fax:
                                  <field name="fax"/>
                                </div>
                              </td>
                            </tr>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                </t>
              </templates>
              </kanban>
              <form>
                <div class="oe_title">
                  <h1>
                    <field name="owner_identity" readonly="1"/>
                  </h1>
                  <newline/>
                  <field name="fake" invisible="1"/>
                  <field name="owner" readonly="1"
                         attrs="{'invisible': [('fake','!=', True)]}"/>
                </div>
                <group>
                  <field name="phone"/>
                  <field name="mobile"/>
                  <field name="fax"/>
                  <field name="email" widget="email"
                         required="context.get('force_email', False)"
                         attrs="{'required': [('user_ids','!=', [])]}"/>
                  <field name="user_ids" invisible="1"/>
                </group>
              </form>
            </field>
          </page>
        </xpath>
      </field>
    </record>

    <record id="view_res_partner_fake_form" model="ir.ui.view">
      <field name="name">res.partner.fake.form</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_simple_form"/>
      <field name="arch" type="xml">
        <xpath expr="//div[@class='oe_title']" position="after">
          <field name="fake" invisible="1"/>
          <field name="owner" readonly="1"
                 attrs="{'invisible': [('fake', '!=', True)]}"/>
        </xpath>
        <xpath expr="//field[@name='name']" position="attributes">
          <attribute name="attrs">
            {'readonly':[('fake', '=', True)]}
          </attribute>
        </xpath>
        <xpath expr="//field[@name='image']" position="attributes">
          <attribute name="attrs">
            {'invisible':[('fake', '=', True)]}
          </attribute>
        </xpath>
        <xpath expr="//div[@class='oe_title']" position="attributes">
          <attribute name="attrs">
            {'invisible':[('fake', '=', True)]}
          </attribute>
        </xpath>
      </field>
    </record>
  </data>
</openerp>